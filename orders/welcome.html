<!DOCTYPE html>
<html>
<head>
    <title>Bootstrap Table Examples</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-table.css">
    
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-table.js"></script>
    <script src="js/bootstrap-table-filter-control.js"></script>
</head>
<body>
<div class="container">
    <h1>Bootstrap Table Examples </h1>
  
    <table id="table"
           data-side-pagination="server"
           data-url="json/data1.json"
         
		   data-filter-control="true">
		   <thead>
        <tr>
            <th >ID</th>
            <th data-filter-control="input">Item Name</th>
			<th data-filter-control="select">Color</th>
            <th>Item Price</th>			
			<th>Item Operate</th>
        </tr>
        </thead>
		  
    </table>
</div>

<script>
    var $table = $('#table');

    function initTable() {
        $table.bootstrapTable({
           columns: [
                [
                    {
						field: 'id',  
                        title: 'Item ID',
                        align: 'center',
                        valign: 'middle'
                    }, {
                        field: 'name',
                        title: 'Item Name',                       
                        align: 'center'
                    }, {
                        field: 'color',
                        title: 'Color',
						
                        align: 'center'
                    }, {
                        field: 'price',
                        title: 'Item Price',                        
                        align: 'center'                        
                    }, {
                        field: 'operate',
                        title: 'Item Operate',
                        align: 'center',
                        events: operateEvents,
                        formatter: operateFormatter
                    }
                ]
            ]
            
        });
        
    }

    function operateFormatter(value, row, index) {
	
	flag_discount = '';
	if(row.type_price == 'discount'){
		flag_discount = '<span class="glyphicon glyphicon-tags"></span>';
	}
	
        return [
            '<a class="like" href="javascript:void(0)" title="Like">',
            '<i class="glyphicon glyphicon-shopping-cart"></i>',
            '</a>  ',
			flag_discount
        ].join('');
    }

    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row));
        }
    };



    $(function () {
        var scripts = [
                location.search.substring(1) || 'js/bootstrap-table.js', 'js/bootstrap-table-filter-control.js'
            ],
            eachSeries = function (arr, iterator, callback) {
                callback = callback || function () {};
                if (!arr.length) {
                    return callback();
                }
                var completed = 0;
                var iterate = function () {
                    iterator(arr[completed], function (err) {
                        if (err) {
                            callback(err);
                            callback = function () {};
                        }
                        else {
                            completed += 1;
                            if (completed >= arr.length) {
                                callback(null);
                            }
                            else {
                                iterate();
                            }
                        }
                    });
                };
                iterate();
            };

        eachSeries(scripts, getScript, initTable);
    });

    function getScript(url, callback) {
        var head = document.getElementsByTagName('head')[0];
        var script = document.createElement('script');
        script.src = url;

        var done = false;
        // Attach handlers for all browsers
        script.onload = script.onreadystatechange = function() {
            if (!done && (!this.readyState ||
                    this.readyState == 'loaded' || this.readyState == 'complete')) {
                done = true;
                if (callback)
                    callback();

                // Handle memory leak in IE
                script.onload = script.onreadystatechange = null;
            }
        };

        head.appendChild(script);

        // We handle everything using the script element injection
        return undefined;
    }
</script>
</body>
</html>